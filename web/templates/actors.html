<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actor管理 - Uros Restron</title>
    <link href="/static/css/style.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <h1 class="nav-title">Uros Restron</h1>
            <div class="nav-links">
                <a href="/" class="nav-link">首页</a>
                <a href="/types" class="nav-link">类型管理</a>
                <a href="/things" class="nav-link">事物管理</a>
                <a href="/behaviors" class="nav-link">行为管理</a>
                <a href="/relationships" class="nav-link">关系管理</a>
                <a href="/actors" class="nav-link active">Actor管理</a>
                <a href="/graph" class="nav-link">关系图</a>
            </div>
        </div>
    </nav>

    <main class="container">
        <div class="page-header">
            <h2>Actor管理</h2>
            <div class="header-actions">
                <button class="btn btn-secondary" onclick="refreshActors()">刷新状态</button>
                <button class="btn btn-primary" onclick="showActorHealthCheck()">健康检查</button>
            </div>
        </div>

        <div class="filter-bar">
            <select id="statusFilter" onchange="filterActors()">
                <option value="">所有状态</option>
                <option value="running">运行中</option>
                <option value="stopped">已停止</option>
                <option value="error">错误</option>
            </select>
            <input type="text" id="searchInput" placeholder="搜索Actor..." onkeyup="searchActors()">
        </div>

        <div class="actors-grid" id="actorsGrid">
            <!-- Actor卡片将在这里动态加载 -->
        </div>

        <!-- Actor函数调用区域 -->
        <div class="function-call-section">
            <h3>Actor函数调用</h3>
            <div class="function-call-form">
                <div class="form-group">
                    <label for="actorSelect">选择Actor</label>
                    <select id="actorSelect" onchange="loadActorFunctions()">
                        <option value="">请选择Actor</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="functionSelect">选择函数</label>
                    <select id="functionSelect">
                        <option value="">请选择函数</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="functionParams">函数参数 (JSON格式)</label>
                    <textarea id="functionParams" rows="4" placeholder='{"param1": "value1", "param2": "value2"}'></textarea>
                </div>
                <button class="btn btn-primary" onclick="callActorFunction()">调用函数</button>
            </div>
            <div id="functionResult" class="function-result">
                <!-- 函数调用结果将在这里显示 -->
            </div>
        </div>
    </main>

    <!-- Actor详情模态框 -->
    <div id="actorDetailModal" class="modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>Actor详情</h3>
                <span class="close" onclick="closeActorDetailModal()">&times;</span>
            </div>
            <div id="actorDetailContent">
                <!-- Actor详情将在这里动态加载 -->
            </div>
        </div>
    </div>

    <!-- 健康检查模态框 -->
    <div id="healthCheckModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>系统健康检查</h3>
                <span class="close" onclick="closeHealthCheckModal()">&times;</span>
            </div>
            <div id="healthCheckContent">
                <!-- 健康检查结果将在这里显示 -->
            </div>
        </div>
    </div>

    <script src="/static/js/actors.js"></script>
</body>
</html>
